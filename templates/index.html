{% extends 'base.html' %}
{% block content %}{% raw %}
<div class="container" id="main-container" ng-controller="mainCtrl">
  <div class="row padded">
    <div class="col-sm-12 col-md-5">
      <div class="input-group">
        <span class="input-group-addon" ng-class="{'enabled': passwd}">Password protected?</span>
        <input ng-model="passwd" type="password" class="form-control input-sm" placeholder="Encryption string">
      </div>
    </div>
    <div class="col-sm-12 col-md-5 col-md-offset-2" ng-cloak>
      <div ng-show="error" class="alert alert-danger notification"><b>Warning!</b> {{error}}</div>
      <div ng-show="success" class="alert alert-success notification"><b>Success!</b> {{success}}</div>
    </div>
    <div class="col-md-12">
      <div ng-class="{'has-error': error, 'has-success': success}" class="input-group" id="shortener">
        <input
              ng-model="url" ng-trim="false" id="url" type="text" class="form-control input-lg" ng-keypress="($event.keyCode == 13 && url) && shorten()" placeholder="Link to shorten">
        <span class="input-group-btn">
          <a
            ng-class="{'disabled': !url || shortening}" class="btn btn-primary input-lg"
            data-loading-text="Shortening..." id="submit-btn" ng-click="shorten()">
            Shorten URL
          </a>
        </span>
      </div>
    </div>
  </div>
  <div class="footer hidden-xs hidden-sm">
    <p>
      <span class="label label-success"><a href="/">&copy; Liam Stanley 2016</a></span>
      <span class="label label-info" ng-show="stats" ng-cloak>{{stats.views.clean}} views</span>
      <span class="label label-warning" ng-show="stats" ng-cloak>{{stats.shortened.clean}} shortened</span>
      <span class="label label-primary" ng-show="stats" ng-cloak>{{stats.created.clean}} generated</span>
      <span class="pull-right">Links.ml || Link Shortener</span>
    </p>
  </div>
</div>
{% endraw %}{% endblock content %}
